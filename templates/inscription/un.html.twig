{% extends 'base.html.twig' %}

{% block title %}Inscription{% endblock %}

{% block body %}

<!-- Fil d'Ariane à modifier pour adapter-->
<nav role="navigation" class="fr-breadcrumb" aria-label="Vous êtes ici :">
  <button class="fr-breadcrumb__button" aria-expanded="false" aria-controls="breadcrumb-1">Voir le fil d’Ariane</button>
  <div class="fr-collapse" id="breadcrumb-1">
    <ul class="fr-breadcrumb__list" id="breadcrumb-steps"></ul>
  </div>
</nav>

<div class="fr-container">
  <h1>Inscription au Lycée Fulbert</h1>
  {{ form_start(form) }}
  {{ form_errors(form) }}
  <div id="step1" class="form-step">
    <div class="fr-stepper">
      <h2 class="fr-stepper__title">
        Renseignement
        <span class="fr-stepper__state">Étape 1 sur 7</span>
      </h2>
      <div class="fr-stepper__steps" data-fr-current-step="1" data-fr-steps="7"></div>
      <p class="fr-stepper__details">
        <span class="fr-text--bold">Étape suivante :</span> Scolarité antérieur
      </p>
    </div>
    <div class="sp-perso sp-perso-content fr-mb-4w">
      <div class="sp-perso-header">
        <h3 class="fr-h3 sp-perso-title sp-accent">Identité de l'élève</h3>
      </div>
      <div class="fr-input-group fr-grid-row">
        <div class="fr-fieldset__element">
          <legend class="fr-fieldset__legend">INE</legend>
          <span class="fr-hint-text">Format attendu : 1234567890 AB</span>
          {{ form_row(form.eleve.INE, {'attr': {'class': 'fr-input'} })  }}
        </div>
        <fieldset class="fr-fieldset" aria-label="Nom et prénom">
          <div class="fr-fieldset__element">
            <legend class="fr-fieldset__legend">Nom</legend>
            {{ form_row(form.individu.name, {'attr': {'class': 'fr-input'} })  }}
          </div>
          <div class="fr-fieldset__element">
            <legend class="fr-fieldset__legend">Prénom</legend>
            {{ form_row(form.individu.lastname, {'attr': {'class': 'fr-input'} })  }}
          </div>
          <div class="fr-fieldset__element">
            <legend class="fr-fieldset__legend">Date de naissance</legend>
            {{ form_row(form.eleve.dateBirth, {'attr': {'class': 'fr-input'} })  }}
          </div>
          <div class="fr-fieldset__element">
            <legend class="fr-fieldset__legend">Nationalité</legend>
            {{ form_row(form.eleve.nationality, {'attr': {'class': 'fr-input'} })  }}
          </div>
          <div class="fr-fieldset__element">
            <legend class="fr-fieldset__legend">Département de Naissance</legend>
            <span class="fr-hint-text">Format attendu : 28</span>
            {{ form_row(form.eleve.departmentBirth, {'attr': {'class': 'fr-input'} })  }}
          </div>
        </fieldset>
      </div>
    </div>







  </div>
  <div id="step2" class="form-step">


  </div>
  <div id="step3" class="form-step">



  </div>

</div>


{% endblock %}








{% block javascript %}

<script>
  const breadcrumbSteps = [
    "Renseignement sur l'étudiant(e)",
    "Scolarité antérieure de l'étudiant(e)",
    "Responsables légaux",
    "Fiche d'urgence",
    "Fiche d'intendance",
    "Antécédents médicaux",
    "Personne à contacter"
  ];

  function updateBreadcrumb(step) {
    const breadcrumbList = document.getElementById('breadcrumb-steps');
    breadcrumbList.innerHTML = '';

    const home = document.createElement('li');
    home.innerHTML = `<a class="fr-breadcrumb__link" href="/">Accueil</a>`;
    breadcrumbList.appendChild(home);

    for (let i = 0; i < step; i++) {
      const li = document.createElement('li');
      if (i === step - 1) {
        li.innerHTML = `<span class="fr-breadcrumb__link">${breadcrumbSteps[i]}</span>`;
      } else {
        li.innerHTML = `<a class="fr-breadcrumb__link" href="#">${breadcrumbSteps[i]}</a>`;
      }
      breadcrumbList.appendChild(li);
    }
  }

  function showStep(step) {
    for (let i = 1; i <= totalSteps; i++) {
      const div = document.getElementById('step' + i);
      if (div) div.style.display = (i === step) ? 'block' : 'none';
    }
    updateBreadcrumb(step);
  }
</script>


{% endblock %}